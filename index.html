<!DOCTYPE html>
<html>
<head>
<title>Biomedical Waste Segregation Game</title>

<style>

    /* GLOBAL APP BACKGROUND */
    body {
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Arial, sans-serif;
        background: linear-gradient(to bottom, #3c7df0, #dbe7ff);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }

    /* APP CONTAINER */
    .screen {
        width: 92%;
        max-width: 450px;
        background: #ffffff;
        margin-top: 35px;
        border-radius: 22px;
        padding: 28px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.18);
        display: none;
        animation: fadeIn 0.5s;
    }

    /* ANIMATION */
    @keyframes fadeIn {
        from {opacity: 0; transform: translateY(10px);}
        to   {opacity: 1; transform: translateY(0);}
    }

    h1, h2, h3 {
        margin-top: 0;
        color: #1a3f8b;
        font-weight: 700;
    }

    p, li {
        color: #444;
        font-size: 16px;
        line-height: 1.5;
    }

    /* BUTTONS */
    .btn {
        width: 100%;
        background: #1e5aff;
        color: white;
        padding: 14px;
        border-radius: 14px;
        font-size: 18px;
        margin: 10px 0;
        border: none;
        cursor: pointer;
        transition: 0.25s;
        font-weight: 600;
    }

    .btn:hover {
        background: #0c3fcb;
        transform: scale(1.03);
    }

    .difficulty-btn {
        background: #ffffff;
        color: #1e5aff;
        border: 2px solid #1e5aff;
    }

    .difficulty-btn:hover {
        background: #1e5aff;
        color: white;
    }

    /* ITEM IMAGE CARD */
    #itemImage {
        width: 230px;
        height: 230px;
        object-fit: contain;
        background: #f3f6ff;
        border-radius: 16px;
        padding: 12px;
        border: 2px solid #bfd2ff;
        margin: 20px auto;
        display: block;
    }

    /* BINS GRID */
    .bins-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 14px;
        margin-top: 15px;
    }

    .bin {
        width: 135px;
        border-radius: 14px;
        background: #f8faff;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        padding: 10px;
        cursor: pointer;
    }

</style>
</head>

<body>


<!-- â­ SCREEN 1 â€” WELCOME SCREEN -->
<div id="welcomeScreen" class="screen" style="display:block;">
    <h1>Biomedical Waste Game</h1>

    <p>
        A fast and interactive way to learn biomedical waste segregation.
        Choose the correct bin for each item and test your accuracy!
    </p>

    <button class="btn" onclick="goToDifficulty()">Start</button>
</div>



<!-- â­ SCREEN 2 â€” DIFFICULTY SELECT -->
<div id="difficultyScreen" class="screen">
    <h2>Select Difficulty</h2>

    <button class="btn difficulty-btn" onclick="startGame('easy')">Easy</button>
    <button class="btn difficulty-btn" onclick="startGame('medium')">Medium</button>
    <button class="btn difficulty-btn" onclick="startGame('hard')">Hard</button>
</div>



<!-- â­ SCREEN 3 â€” GAME SCREEN -->
<div id="gameScreen" class="screen">
    <h2>Segregate the Waste</h2>

    <p id="difficultyDisplay" style="font-weight:600; color:#173a80;"></p>
    <p id="timerDisplay"><b>Time Left:</b> 60s</p>
    <p id="scoreDisplay"><b>Score:</b> 0</p>

    <img id="itemImage" src="" alt="Item">

    <div class="bins-grid">
        <img src="images/redbin.jpg"         class="bin" onclick="checkAnswer('red')">
        <img src="images/yellowbin.jpg"      class="bin" onclick="checkAnswer('yellow')">
        <img src="images/bluebin.png"        class="bin" onclick="checkAnswer('blue')">
        <img src="images/greenbin.png"       class="bin" onclick="checkAnswer('green')">
        <img src="images/translucentbin.png" class="bin" onclick="checkAnswer('translucent')">
    </div>
</div>



<!-- â­ SCREEN 4 â€” RESULT SCREEN -->
<div id="resultScreen" class="screen">
    <h1>ðŸŽ‰ Great Job!</h1>
    <h2>Your Score: <span id="finalScore"></span></h2>

    <p id="finalDifficultyText" style="font-size:17px;"></p>

    <button class="btn" onclick="goHome()">Play Again</button>
</div>



<script>

/* â­ SCREEN NAVIGATION */
function goToDifficulty() {
    showScreen("difficultyScreen");
}

function goHome() {
    showScreen("welcomeScreen");
}

function showScreen(id) {
    document.getElementById("welcomeScreen").style.display = "none";
    document.getElementById("difficultyScreen").style.display = "none";
    document.getElementById("gameScreen").style.display = "none";
    document.getElementById("resultScreen").style.display = "none";
    document.getElementById(id).style.display = "block";
}



/* â­ DIFFICULTY SETTINGS */
const difficultySettings = {
    easy: { label:"Easy (90s)", totalTime:90, autoSkipMs:null, itemPool:"easy" },
    medium:{ label:"Medium (60s, 5s auto-skip)", totalTime:60, autoSkipMs:5000, itemPool:"all" },
    hard:{ label:"Hard (30s, 3s auto-skip)", totalTime:30, autoSkipMs:3000, itemPool:"allPlusTricky" }
};


/* â­ ITEMS (YOUR REAL IMAGES) */
const easyItems = [
    { name:"Mask", img:"images/Mask.webp", bin:"red" },
    { name:"Syringe (no needle)", img:"images/Syringe.webp", bin:"red" },
    { name:"Blood Bag", img:"images/Blood Bag.avif", bin:"yellow" },
    { name:"Cotton Swabs", img:"images/Contaminated-Cotton-Swabs.webp", bin:"yellow" },
    { name:"Vial", img:"images/Vial.jpg", bin:"blue" },
    { name:"Ampoules", img:"images/Ampoules.webp", bin:"blue" },
    { name:"Expired Medicines", img:"images/Expired Medicines.webp", bin:"green" }
];

const mediumExtraItems = [
    { name:"IV Set", img:"images/IV SET.png", bin:"red" },
    { name:"Catheter", img:"images/Catheter.jpg", bin:"red" },
    { name:"Dialysis Kit", img:"images/Dialysis Kit.webp", bin:"red" },
    { name:"Urine Bag", img:"images/Urine Bag.webp", bin:"red" },
    { name:"Vacutainers", img:"images/Vacutainers.webp", bin:"red" },
    { name:"Human Anatomical Waste", img:"images/Human anatomical waste.webp", bin:"yellow" },
    { name:"Placenta", img:"images/Placenta.webp", bin:"yellow" },
    { name:"Plaster Cast", img:"images/Plaster cast.jpg", bin:"yellow" },
    { name:"IV Bottles", img:"images/IV bottles.jpg", bin:"blue" },
    { name:"Metallic Body Implants", img:"images/Metallic body implants.png", bin:"blue" },
    { name:"Lab Slides", img:"images/Lab Slides.jpg", bin:"blue" }
];

const trickyItems = [
    { name:"Needles", img:"images/Needles.webp", bin:"translucent" },
    { name:"Syringe with Needle", img:"images/Syringes with needles.png", bin:"translucent" },
    { name:"Blade", img:"images/Blade.webp", bin:"translucent" },
    { name:"Scalpel", img:"images/Scalpel.webp", bin:"translucent" },
    { name:"Wound Dressing", img:"images/Wound dressing.webp", bin:"yellow" },
    { name:"Scissors", img:"images/Scissors.webp", bin:"red" }
];

const allItems = easyItems.concat(mediumExtraItems);
const allPlusTricky = allItems.concat(trickyItems);


/* â­ GAME STATE */
let score = 0;
let timer = 0;
let timerInterval = null;
let itemTimeout = null;
let currentSettings = null;
let currentItem = null;


function startGame(level) {
    showScreen("gameScreen");

    currentSettings = difficultySettings[level];
    score = 0;
    timer = currentSettings.totalTime;

    document.getElementById("difficultyDisplay").innerText = currentSettings.label;
    document.getElementById("timerDisplay").innerText = "Time Left: " + timer + "s";
    document.getElementById("scoreDisplay").innerText = "Score: " + score;

    startTimer();
    loadNextItem();
}


/* TIMER */
function startTimer() {
    clearInterval(timerInterval);

    timerInterval = setInterval(() => {
        timer--;
        document.getElementById("timerDisplay").innerText = "Time Left: " + timer + "s";

        if (timer <= 0) endGame();
    }, 1000);
}


/* ITEM POOL */
function getItemPool() {
    if (currentSettings.itemPool === "easy") return easyItems;
    if (currentSettings.itemPool === "all") return allItems;
    return allPlusTricky;
}


/* LOAD NEXT ITEM */
function loadNextItem() {
    clearTimeout(itemTimeout);

    const pool = getItemPool();
    currentItem = pool[Math.floor(Math.random() * pool.length)];

    document.getElementById("itemImage").src = currentItem.img;

    if (currentSettings.autoSkipMs) {
        itemTimeout = setTimeout(() => {
            score--;
            document.getElementById("scoreDisplay").innerText = "Score: " + score;
            loadNextItem();
        }, currentSettings.autoSkipMs);
    }
}


/* CHECK ANSWER */
function checkAnswer(selectedBin) {
    clearTimeout(itemTimeout);

    if (selectedBin === currentItem.bin) score++;
    else score--;

    document.getElementById("scoreDisplay").innerText = "Score: " + score;

    if (timer > 0) loadNextItem();
}


/* END GAME */
function endGame() {
    clearInterval(timerInterval);
    clearTimeout(itemTimeout);

    document.getElementById("finalScore").innerText = score;
    document.getElementById("finalDifficultyText").innerText =
        "Difficulty: " + currentSettings.label;

    showScreen("resultScreen");
}

</script>

</body>
</html>
