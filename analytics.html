<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Analytics & Leaderboard</title>
    
    <!-- Chart.js from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Firebase SDKs (NON-MODULE versions) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
    
    <!-- Your CSS -->
    <link rel="stylesheet" href="analytics.css">
    
    <!-- Your Analytics Script (loaded at the end) -->
</head>

<body>

    <div class="analytics-container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>ğŸ“Š Game Analytics Center</h1>
            <p class="subtitle">Track your performance and compete with others</p>
        </div>
        
        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="analytics">
                <span class="tab-icon">ğŸ“ˆ</span>
                <span class="tab-text">My Analytics</span>
            </button>
            <button class="tab-btn" data-tab="leaderboard">
                <span class="tab-icon">ğŸ†</span>
                <span class="tab-text">Global Leaderboard</span>
            </button>
            <button class="tab-btn" data-tab="training">
                <span class="tab-icon">ğŸ¯</span>
                <span class="tab-text">Training Stats</span>
            </button>
        </div>
        
        <!-- Analytics Tab -->
        <div id="analyticsTab" class="tab-content active">
            <!-- Will be filled by JS -->
            <div style="text-align: center; padding: 50px; color: #9aa0a6;">
                <div class="loading-spinner"></div>
                <p>Loading your analytics...</p>
            </div>
        </div>
        
        <!-- Leaderboard Tab -->
        <div id="leaderboardTab" class="tab-content">
            <!-- Will be filled by JS -->
            <div style="text-align: center; padding: 50px; color: #9aa0a6;">
                <div class="loading-spinner"></div>
                <p>Loading leaderboard...</p>
            </div>
        </div>
        
        <!-- Training Tab -->
        <div id="trainingTab" class="tab-content">
            <!-- Will be filled by JS -->
            <div style="text-align: center; padding: 50px; color: #9aa0a6;">
                <div class="loading-spinner"></div>
                <p>Loading training stats...</p>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="back-btn" onclick="window.location.href='index.html'">
                <span class="btn-icon">â†</span>
                <span class="btn-text">Back to Game</span>
            </button>
            
            <button class="share-btn" id="shareAnalyticsBtn">
                <span class="btn-icon">ğŸ“¤</span>
                <span class="btn-text">Share Progress</span>
            </button>
        </div>
        
        <!-- Footer -->
        <div class="analytics-footer">
            <p>Data updates in real-time â€¢ Last updated: <span id="lastUpdated">Now</span></p>
        </div>
    </div>

    <!-- Your Analytics Script (NON-MODULE version) -->
    <script src="analytics.js"></script>

    <!-- Loading spinner CSS -->
    <style>
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: #4caf50;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>

</body>
</html>
